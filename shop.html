<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Shop — MNL</title>
  <link rel="stylesheet" href="./style.css"/>
  <script src="./config.js"></script>
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="./app.js" defer></script>
</head>
<body data-page="shop">

<header class="topbar">
  <div class="topbarInner container">
    <button class="iconBtn" id="openDrawer" aria-label="Menu">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
      </svg>
    </button>

    <a class="brandCenter" href="./index.html" aria-label="Home"><div class="brandLogo">MNL</div></a>

    <button class="iconBtn" id="openCart" aria-label="Cart" style="position:relative">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M6 7h15l-1.5 13h-12L6 7Z" stroke="currentColor" stroke-width="1.6"/>
        <path d="M9 7a3 3 0 0 1 6 0" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
      </svg>
      <span class="badge cartCount" style="display:none">0</span>
    </button>
  </div>
</header>

<!-- Drawer -->
<div class="drawerBackdrop"></div>
<aside class="drawer">
  <div class="drawerTop">
    <div class="drawerBrand">MNL</div>
    <button class="iconBtn" id="drawerClose" aria-label="Close">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
      </svg>
    </button>
  </div>

  <nav class="drawerNav">
    <a class="drawerLink" href="./shop.html">Shop</a>
    <button class="drawerLink" id="openHelpFromDrawer" type="button">Help</button>
    <a class="drawerLink" href="./admin.html">Admin</a>
    <a class="drawerLink fbLink" target="_blank" rel="noopener" href="#">Order via Facebook</a>
  </nav>
</aside>

<main class="container pageMain">
  <div class="pageTitleRow">
    <div class="pageTitle">Shop</div>
    <div class="pageHint">Tap a product to view details.</div>
  </div>

  <input id="searchInput" class="searchInput" placeholder="Search..." autocomplete="off"/>

  <div id="shopStatus" class="note" style="display:none"></div>
  <section id="productGrid" class="grid"></section>
</main>

<!-- Global backdrop + Help + Cart -->
<div class="backdrop" id="globalBackdrop"></div>

<div class="modal" id="helpModal" role="dialog" aria-modal="true" aria-label="Help">
  <div class="modalHead">
    <div class="modalTitle">Help</div>
    <button class="iconBtn" id="closeHelp" aria-label="Close">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
      </svg>
    </button>
  </div>
  <div class="modalBody">
    <ol class="helpSteps">
      <li>Choose items from the shop.</li>
      <li>Open product to see images/details.</li>
      <li>Add to cart → Checkout.</li>
      <li>Copy order text and send to Facebook.</li>
    </ol>
    <div class="helpNote">Manual checkout keeps orders clean and fast.</div>
  </div>
</div>

<div class="modal" id="cartModal" role="dialog" aria-modal="true" aria-label="Cart">
  <div class="modalHead">
    <div class="modalTitle">Cart</div>
    <button class="iconBtn" id="closeCart" aria-label="Close">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <path d="M6 6l12 12M18 6 6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
      </svg>
    </button>
  </div>
  <div class="cartItems" id="cartItems"></div>
  <div class="cartFooter">
    <div class="totalRow"><span>Total</span><strong id="cartTotal">₱0.00</strong></div>
    <a class="btn" href="./checkout.html">Check out</a>
    <a class="btnGhost" href="./shop.html">Continue shopping</a>
  </div>
</div>

</body>
</html>
